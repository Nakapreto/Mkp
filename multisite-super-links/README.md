# MultiSite Super Links

Plugin avan√ßado para gerenciamento de links de afiliados em WordPress MultiSite com subdom√≠nios. Uma vers√£o inspirada no popular plugin Super Links brasileiro, otimizada especificamente para redes multisite.

## üöÄ Funcionalidades Principais

### üîó Gerenciamento de Links
- **Camuflagem de Links Avan√ßada**: Transforme links feios de afiliados em URLs bonitas usando seu pr√≥prio dom√≠nio
- **Links Inteligentes**: Adicione automaticamente links em palavras-chave espec√≠ficas do seu conte√∫do
- **Redirecionamento Inteligente**: Detecta bots e crawlers, mostrando p√°ginas diferentes para visitantes reais
- **M√∫ltiplos Tipos de Redirecionamento**: 301, 302, iframe, pixel bridge

### üç™ Rastreamento Duplo de Cookies
- **Prote√ß√£o Total**: Sistema duplo de cookies garante que voc√™ n√£o perca nenhuma comiss√£o
- **Backup Autom√°tico**: Cookie de backup em caso de falha do cookie principal
- **Rastreamento Cross-Device**: Funciona mesmo quando o usu√°rio troca de dispositivo
- **Armazenamento no Banco**: Backup dos dados de cookie no banco de dados

### üìÑ Clonagem de P√°ginas
- **Clone em Segundos**: Copie qualquer p√°gina de vendas para seu WordPress com 1 clique
- **Processamento Autom√°tico**: URLs, imagens e CSS s√£o automaticamente ajustados
- **Links de Afiliado Autom√°ticos**: Detecta e camufla automaticamente links de afiliados
- **Pixel Integration**: Adiciona automaticamente pixels do Facebook/Google
- **SEO Otimizado**: Meta tags adequadas para p√°ginas clonadas

### üìä Estat√≠sticas Avan√ßadas
- **Dashboard Completo**: Visualize cliques, convers√µes e ROI em tempo real
- **An√°lise Geogr√°fica**: Estat√≠sticas por pa√≠s e regi√£o
- **An√°lise de Dispositivos**: Mobile, Desktop, Tablet
- **Tracking de Referrers**: Facebook, Google, direto, etc.
- **Exporta√ß√£o CSV**: Exporte dados para an√°lise externa
- **Relat√≥rios de Performance**: Links com melhor e pior performance

### üß† Links Inteligentes
- **Automa√ß√£o Total**: Adicione links automaticamente baseado em palavras-chave
- **Regras Condicionais**: Configure quando e onde aplicar os links
- **Limite de Aplica√ß√µes**: Controle quantas vezes um link aparece
- **Exclus√µes Inteligentes**: Evite links em categorias ou posts espec√≠ficos
- **Teste A/B**: Teste diferentes estrat√©gias de linkagem

### üîÑ Redirecionamento de Sa√≠da
- **Exit Intent**: Detecta quando visitante vai sair e mostra oferta
- **Back Button Intercept**: Captura tentativa de voltar no navegador
- **Modal Customiz√°vel**: Interface bonita para oferecer produtos
- **M√∫ltiplos Triggers**: Tempo, scroll, mouse movement, etc.
- **Configura√ß√£o Flex√≠vel**: Por p√°gina ou global

### üåê MultiSite Otimizado
- **Subdomain Ready**: Funciona perfeitamente com subdom√≠nios
- **Network Admin**: Painel de administra√ß√£o da rede
- **Estat√≠sticas Globais**: Veja performance de toda a rede
- **Configura√ß√£o por Site**: Cada site pode ter suas pr√≥prias regras
- **Shared Resources**: Compartilhe links entre sites da rede

## üìã Requisitos

- WordPress 5.0 ou superior
- PHP 7.4 ou superior
- WordPress MultiSite configurado para subdom√≠nios
- MySQL 5.6 ou superior
- mod_rewrite habilitado

## üõ†Ô∏è Instala√ß√£o

1. **Upload do Plugin**
   ```bash
   # Via FTP ou painel do WordPress
   wp-content/plugins/multisite-super-links/
   ```

2. **Ativa√ß√£o na Rede**
   - Acesse Network Admin > Plugins
   - Ative o "MultiSite Super Links"

3. **Configura√ß√£o Inicial**
   - Configure as op√ß√µes gerais em Super Links > Configura√ß√µes
   - Defina o prefixo dos links (padr√£o: 'msl')
   - Configure integra√ß√£o com Facebook Pixel e Google Analytics

## üöÄ Uso R√°pido

### Criar um Link Camuflado

1. Acesse **Super Links > Gerenciar Links**
2. Clique em **"Adicionar Novo Link"**
3. Preencha:
   - **T√≠tulo**: Nome do link
   - **URL do Afiliado**: Link original
   - **Slug Personalizado** (opcional)
   - **Categoria** (opcional)
4. Configure op√ß√µes avan√ßadas:
   - ‚úÖ Habilitar camuflagem
   - ‚úÖ Habilitar pixel tracking
   - ‚úÖ C√≥digo do pixel
5. **Salvar**

Seu link ser√°: `https://seusite.com/msl/slug-personalizado`

### Clonar uma P√°gina

1. Acesse **Super Links > Clonar P√°ginas**
2. Insira a URL da p√°gina que deseja clonar
3. Configure op√ß√µes:
   - ‚úÖ Camuflar links de afiliados automaticamente
   - ‚úÖ Abrir links em nova aba
   - ‚úÖ Remover scripts de tracking originais
   - ‚úÖ Adicionar c√≥digo de tracking pr√≥prio
4. Clique **"Clonar P√°gina"**
5. Visualize o resultado e publique

### Configurar Links Inteligentes

1. Acesse **Super Links > Links Inteligentes**
2. Clique **"Nova Regra"**
3. Configure:
   - **Nome da Regra**: "Produtos de Marketing Digital"
   - **Palavras-chave**: "marketing digital, afiliado, vendas online"
   - **URL do Link**: seu link camuflado
   - **Condi√ß√µes**: Posts, p√°ginas espec√≠ficas, categorias
4. Defina limites:
   - **Max. substitui√ß√µes por conte√∫do**: 3
   - **Max. aplica√ß√µes da regra**: 100
5. **Salvar Regra**

### Configurar Exit Redirect

1. Acesse **Super Links > Configura√ß√µes**
2. Aba **"Redirecionamento de Sa√≠da"**
3. Configure:
   - ‚úÖ Habilitar exit redirect
   - **URL de destino**: p√°gina de oferta
   - **T√≠tulo do modal**: "Espere! Oferta especial!"
   - **Mensagem**: texto convincente
   - **Triggers**: exit intent, back button, tempo
4. **Salvar Configura√ß√µes**

## üéØ Funcionalidades Avan√ßadas

### Shortcodes Dispon√≠veis

```php
// Exibir links em grid
[msl_links columns="3" category="ofertas" limit="6"]

// Exibir com estat√≠sticas
[msl_links show_stats="true" category="principais"]

// Apenas uma categoria espec√≠fica
[msl_links category="hotmart" columns="2"]
```

### Hooks para Desenvolvedores

```php
// A√ß√£o disparada quando h√° convers√£o
add_action('msl_conversion_tracked', function($link_id, $conversion_data) {
    // Seu c√≥digo personalizado
    error_log("Convers√£o no link $link_id: " . print_r($conversion_data, true));
});

// Filtro para modificar URLs de redirecionamento
add_filter('msl_redirect_url', function($url, $link_id) {
    // Adicionar par√¢metros personalizados
    return add_query_arg('custom_param', 'value', $url);
}, 10, 2);

// Filtro para excluir conte√∫do do processamento de links inteligentes
add_filter('msl_intelligent_links_content', function($content) {
    // Processar ou modificar conte√∫do antes dos links inteligentes
    return $content;
});
```

### Fun√ß√µes Helper

```php
// Obter URL camuflada
$cloaked_url = msl_get_cloaked_url($link_id, $site_id);

// Verificar se √© multisite com subdom√≠nios
if (msl_is_multisite_subdomain()) {
    // C√≥digo espec√≠fico para subdom√≠nios
}

// Registrar convers√£o manualmente
MSLTracker.trackConversion({
    value: 97.00,
    currency: 'BRL',
    transaction_id: 'TXN123'
});
```

## üìä An√°lise e Relat√≥rios

### Dashboard Principal
- **Vis√£o Geral**: Total de links, cliques, convers√µes
- **Gr√°fico de Performance**: Cliques e convers√µes por dia
- **Top Links**: Links com melhor performance
- **Taxa de Convers√£o**: M√©dia geral e por per√≠odo

### Relat√≥rios Detalhados
- **Por Link**: Estat√≠sticas espec√≠ficas de cada link
- **Por Fonte**: Facebook, Google, direto, etc.
- **Por Dispositivo**: Mobile vs Desktop vs Tablet
- **Por Localiza√ß√£o**: Pa√≠ses e regi√µes
- **Exporta√ß√£o**: CSV para an√°lise externa

### Network Analytics (MultiSite)
- **Vis√£o da Rede**: Estat√≠sticas de todos os sites
- **Ranking de Sites**: Performance por subdom√≠nio
- **Relat√≥rio Consolidado**: Dados agregados da rede

## üîß Configura√ß√µes Avan√ßadas

### Configura√ß√µes de Cookie
```php
// Dura√ß√£o do cookie (dias)
update_option('msl_cookie_duration', 60);

// Habilitar cookie duplo
update_option('msl_enable_double_cookie', true);

// Habilitar redirecionamento inteligente
update_option('msl_enable_intelligent_redirect', true);
```

### Configura√ß√µes de Pixel
```php
// Facebook Pixel ID
update_option('msl_facebook_pixel_id', 'SEU_PIXEL_ID');

// Google Analytics ID
update_option('msl_google_analytics_id', 'UA-XXXXXXXX-X');
```

### Configura√ß√µes de Links Inteligentes
```php
// M√°ximo de links por conte√∫do
update_option('msl_max_intelligent_links_per_content', 5);

// Habilitar links inteligentes
update_option('msl_enable_intelligent_links', true);

// Posts exclu√≠dos
update_option('msl_intelligent_links_excluded_posts', array(123, 456));
```

## üé® Personaliza√ß√£o de Estilo

### CSS Customizado
```css
/* Links inteligentes */
.msl-intelligent-link {
    color: #007cba;
    text-decoration: underline;
    font-weight: bold;
}

.msl-intelligent-link:hover {
    color: #005a87;
    text-decoration: none;
}

/* Grid de links (shortcode) */
.msl-links-grid {
    display: grid;
    gap: 20px;
    margin: 20px 0;
}

.msl-columns-2 { grid-template-columns: repeat(2, 1fr); }
.msl-columns-3 { grid-template-columns: repeat(3, 1fr); }
.msl-columns-4 { grid-template-columns: repeat(4, 1fr); }

/* Modal de exit redirect */
#msl-exit-overlay {
    backdrop-filter: blur(5px);
}

/* P√°gina de loading */
.msl-loading-spinner {
    animation: spin 1s linear infinite;
}
```

## üîí Seguran√ßa

### Prote√ß√µes Implementadas
- **Nonce Verification**: Todos os AJAX requests verificados
- **Capability Checks**: Verifica√ß√£o de permiss√µes
- **SQL Injection Prevention**: Prepared statements
- **XSS Protection**: Sanitiza√ß√£o de dados
- **CSRF Protection**: Tokens de seguran√ßa

### Boas Pr√°ticas
- Use sempre HTTPS em produ√ß√£o
- Configure firewall para proteger wp-admin
- Mantenha WordPress e plugins atualizados
- Use senhas fortes para usu√°rios administrativos
- Fa√ßa backups regulares do banco de dados

## üö® Troubleshooting

### Links N√£o Redirecionam
1. Verifique se mod_rewrite est√° habilitado
2. Acesse Configura√ß√µes > Permalinks e salve novamente
3. Verifique se h√° conflitos com outros plugins
4. Confirme se o slug do link est√° correto

### Estat√≠sticas N√£o Aparecem
1. Verifique se JavaScript est√° habilitado
2. Confirme se n√£o h√° bloqueadores de an√∫ncios
3. Teste em modo an√¥nimo do navegador
4. Verifique logs de erro do servidor

### P√°ginas Clonadas N√£o Carregam
1. Verifique se a URL original est√° acess√≠vel
2. Confirme se n√£o h√° bloqueio de iframe
3. Teste com diferentes User-Agents
4. Verifique timeouts do servidor

### Performance Lenta
1. Configure cache adequadamente
2. Otimize banco de dados regularmente
3. Limite n√∫mero de links inteligentes
4. Use CDN para assets est√°ticos

## üìù Changelog

### Vers√£o 1.0.0
- ‚úÖ Lan√ßamento inicial
- ‚úÖ Camuflagem de links b√°sica
- ‚úÖ Rastreamento duplo de cookies
- ‚úÖ Clonagem de p√°ginas
- ‚úÖ Links inteligentes
- ‚úÖ Exit redirect
- ‚úÖ Estat√≠sticas avan√ßadas
- ‚úÖ Suporte completo a MultiSite
- ‚úÖ Network admin interface
- ‚úÖ Shortcodes e widgets
- ‚úÖ API para desenvolvedores

## üÜò Suporte

### Recursos de Ajuda
- **Documenta√ß√£o Completa**: Guias detalhados para cada funcionalidade
- **V√≠deo Tutoriais**: Passo a passo em v√≠deo
- **FAQ**: Perguntas frequentes
- **F√≥rum da Comunidade**: Discuss√µes e dicas

### Solicita√ß√£o de Recursos
Tem uma ideia para melhorar o plugin? Abra uma issue ou entre em contato!

### Relat√≥rio de Bugs
Encontrou um problema? Por favor, inclua:
- Vers√£o do WordPress
- Vers√£o do plugin
- Logs de erro
- Passos para reproduzir

## üìÑ Licen√ßa

Este plugin √© distribu√≠do sob a licen√ßa GPL v2 ou posterior.

## üèÜ Cr√©ditos

Inspirado no plugin Super Links brasileiro de F√°bio Vasconcelos, adaptado e otimizado para WordPress MultiSite com funcionalidades avan√ßadas.

---

**Desenvolvido para maximizar suas convers√µes e proteger suas comiss√µes de afiliado! üöÄ**